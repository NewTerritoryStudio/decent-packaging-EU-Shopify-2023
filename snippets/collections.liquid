{%- assign items_per_row = 4 -%}
{%- assign grid_column_lg = 12 | divided_by: items_per_row | floor -%}
{%- assign grid_column_md = items_per_row | minus: 1 -%}
{%- assign grid_column_md = 12 | divided_by: grid_column_md | floor -%}
{%- assign items_per_page = 24 -%}
{%- if template contains 'all' -%}
  {%- assign items_per_page = 999 -%}
{%- endif -%}

{%- include 'child_collection_handles' -%}
{%- assign is_parent_collection = true -%}

{%- if collection_handles.size == 0 -%}
  {%- assign is_parent_collection = false -%}
{%- endif -%}

<div class="collections">

  {%- include 'collection-sticky-nav' -%}

  <div class="container">
    {%- for collection_handle in collection_handles -%}

      {%- assign collection = collections[collection_handle] -%}
      {%- include 'collection-grid-items' with collection: collection, index: forloop.index0 -%}

    {% else %}

      {%- include 'collection-grid-items' with collection, index: 0, paginate: true, items_per_page: 100 -%}

    {%- endfor -%}
    </div>
  </div>

</div>


